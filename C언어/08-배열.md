# 배열

## 1. 배열의 개요
배열은 같은 종류의 자료형을 선언하기 위해 구성된 데이터의 집합이다.

일반 변수는 하나의 값을 대입하여 처리하기 위해 사용하지만 배열은 많은 값을 한꺼번에 처리하기 위해 사용한다.

배열은 인덱스와 같은 번호에 대응하는 데이터로 이루어진 자료구조이다.

배열은 데이터마다 이름을 부여하지 않고 전체 그룹에 대한 이름을 부여하고 0부터 시작하는 숫자로 구성된 인덱스로 데이터에 접근한다.

## 2. 배열의 선언과 초기화
배열 안에 들어있는 각각의 데이터는 인덱스를 통해 접근할 수 있다.
<pre>배열 선언과 메모리 저장
<code>
int arr[3] = {75, 96, 88};</code></pre>
배열의 자료형, 배열의 이름, 배열의 크기, 배열의 요소를 선언해 준 모습이다.

배열의 자료형은 구성 요소에 따라 달라진다. 정수형 데이터를 배열의 요소로 저장하려면 int, 또는 long형으로 선언하고, 문자형 데이터는 char형, 실수형 데이터를 사용하려면 float, double형으로 선언한다.

### 배열의 이름
배열은 동일한 자료형을 여러개 묶어놓은 것이기 때문에 각각의 배열 요소를 대표할 이름이 필요하다. 

배열의 이름은 해당 배열의 대표 이름이면서 메모리에 연속해서 배치된 배열의 "시작 주소"를 의미한다.

### 배열의 크기
배열은 동일한 자료형이 모여서 하나의 그룹으로 만들어지기 때문에 배열 요소의 개수를 지정할 필요가 있다.

배열을 선언할 때 배열의 크기를 지정하는 []안에 변수 이름이나 음의 정수값, 실수값 등을 지정하면 에러가 발생한다. 

따라서 배열의 크기를 정할 때는 무조건 정수형 상수 또는 #define으로 정의한 상수만 사용해야 한다.

배열의 크기를 지정하지 않으면 배열 요소의 개수만큼 크기가 자동으로 설정된다.

만약 배열의 크기를 배열의 요소보다 더 크게 선언하면 남는 배열의 크기에는 0의 값이 자동으로 채워지고, 배열의 크기를 배열의 요소보다 더 작게 선언하면 컴파일 오류가 발생한다.

### 배열의 요소
배열의 구성하는 각각의 요소를 배열의 요소라고 한다.

<pre>배열 선언
<code>
int score[3] = {75, 96, 88} // 올바른 선언
int score[3] = {75, 96, 88, 95} // 에러 발생
int score[3] = {75, 96} // 비어있는 인덱스는 0으로 초기화
int score[] = {75, 96, 88}  // 배열의 크기는 요소의 개수만큼 자동 설정</code></pre>
에러가 발생한 이유는 배열의 크기를 3이라고 선언했는데, 배열의 요소에는 4개의 값이 들어있기 때문이다.

배열의 크기가 3이고, 배열의 요소가 2개일 때, 3번 째 값은 0으로 자동 초기화된다.

배열의 요소는 {}(중괄호) 안에 작성하고 ,(콤마)로 구분한다.

## 3. 배열의 활용
배열은 반복문에서 많이 사용한다.

<pre>for문으로 배열 요소 출력
<code>
#include<stdio.h>

int main(void)
{
	int score[5] = { 87, 92, 89, 98, 78 };		// 배열 선언과 초기화
	int cnt;									// 카운트 변수

	for (cnt = 0; cnt < 5; cnt++)				// 인덱스 5개 반복 출력
		printf("score[%d] = %d\n", cnt, score[cnt]);

	return 0;
}</code></pre>
배열을 선언과 초기화를 동시에 하고 for문을 사용하여 배열의 요소를 차례대로 출력하는 프로그램이다.

### 배열의 요소 개수 구하기
sizeof()함수를 사용해서 알 수 있다.

배열 요소 개수 = sizeof(배열 이름) / sizeof(배열이름[0])  

위의 식을 활용하여 알 수 있다. 이것은 전체 배열의 크기를 배열 요소 하나의 크기로 나눈다는 의미이다.

<pre>배열 요소의 개수 산출
<code>
#include<stdio.h>

int main(void)
{
  int point[] ={23, 35, 2, 9, 75, 96, 82, 16, 48, 85, 33, 67, 95, 37};  // 배열 선언
  int count;

  count = sizeof(point) / sizeof(point[0]); // 배열 요소의 개수 산출

  printf("배열 요소의 개수 : %d\n", count);
  return 0;
}</code></pre>

### 배열과 문자열
C언어에서는 문자열을 처리하는 자료형을 따로 제공하지 않으므로 문자형 배열을 선언하여 문자열을 표현한다.

문자열은 "apple"과 같이 큰따옴표로 묵어주고, 문자는 'a'와 같이 작은따옴표로 묶어준다.

만약 "a"와 같이 선언하면 문자열로 인식한다. 또한 문자열 끝에는 항상 문자열의 끝을 알리는 NULL문자를 두어 문자열의 끝을 나타낸다.  

따라서 배열로 문자열을 처리할 때는 반드시 문자열의 개수보다 하나 더 많게 배열의 크기를 선언해야 한다. 마지막에 NULL문자가 저장되기 때문이다.

배열의 크기를 너무 크게 선언하면 메모리 낭비를 불러오기 때문에 배열의 크기는 "문자열의 크기 + 1" 로 선언하는 것이 메모리 관리에 효율적이다.

<pre>문자형 배열로 문자열 처리
<code>
#include<stdio.h>

int main(void)
	{
	char chs1[6] = "juice";
	char chs2[5] = "juice";

	printf("배열의 크기 6 : %s\n", chs1);
	printf("배열의 크기 5 : %s\n", chs2);

	return 0;
	} </code></pre>
  이 코드를 보면 배열의 크기를 다르게 해준 것을 볼 수 있다. NULL문자가 들어갈 공간을 확보한 경우와 그렇지 않은 경우 출력 결과값이 어떤지 알아볼 수 있다.

배열을 참조할 때 주소 참조 연산자인 &는 붙이지 않는다. 그 이유는 배열의 이름 자체에 시작 주소를 저장하고 있기 때문이다.

## 4. 배열을 활용한 탐색
순차 탐색은 배열의 요소의 데이터값을 처음부터 순서대로 하나씩 꺼내서 원하는 것을 찾을 때까지 탐색하는 방법이다.

순차 탐색은 비교적 간단하지만 배열의 모든 요소를 처음부터 끝까지 탐색하기 때문에 다소 시간이 소요된다는 단점이 있다.

<pre>순차 탐색
<code> 
#include<stdio.h>
#define SIZE 10

int main(void)
{
	int key, i;
	int list[SIZE] = { 10, 20, 30, 40, 50, 60, 70, 80, 90, 100 };

	printf("[");
	for (i = 0; i < SIZE; i++)
	{
		printf("%d ", list[i]);
	}
	printf("\n");
	printf("탐색할 값을 입력하시오 : ");
	scanf_s("%d", &key);

	for (i = 0; i < SIZE; i++)
	{
		if (list[i] == key)
		{
			printf("탐색 성공! 인덱스 = %d\n", i);
			break;
		}
	}
	return 0;
}</code></pre>
탐색할 값을 변수 key에 저장하고 if문을 사용하여 배열의 요소와 key와 같은 값이 있으면 그 값을 출력하고, 없으면 프로그램을 종료한다.

## 5. 다차원 배열
배열의 크기를 지정하는 부분이 2개 이상일 경우 다차원 배열이라고 한다.

1차원 배열은 arr[3]과 같이 배열의 크기를 나타내는 부분이 1개이고, 2차원 배열은 arr[3][5]와 같이 2개이며 "배열명[행][열]" 형식으로 선언한다. 3차원 배열 등이 있다.

### 2차원 배열
2차원 배열의 선언 형식은 배열 요소를 [행]과 [열]로 구분하여 배열명[행][열]과 같이 선언한다.

<pre>2차원 배열의 인덱스
<code>
int data[3][5] = data[0][0] data[0][1]  data[0][2]  data[0][3] data[0][4]

                data[1][0]  data[1][1]  data[1][2]  data[1][3]  data[1][4]

                data[2][0]  data[2][1]  data[2][2]  data[2][3]  data[2][4]</code></pre>
정수형 자료형의 2차원 배열을 [3]행 [5]열로 선언할 때 메모리에 저장되는 인덱스를 간단하게 나타내 보았다.

2차원 배열오 인덱스는 0부터 시작한다.

### 2차원 배열의 초기화
행별로 초깃값 구분 후 열별로 구분하는 방식을 선호한다.

<pre>행별로 초깃값 구분후 열별로 구분
<code>
int data[3][5] = {
                  {2,4,6,8,10},
                  {12,14,16,18,20},
                  {22,24,26,28,30}};</code></pre>
위와 같은 방법으로 작성한다. 이렇게 작성하면 가독성이 훨씬 좋다.

<pre>2차원 배열 사용 예제
<code>
#include<stdio.h>
#define R 3			//환자수에 대한 배열 크기
#define C 5			// 혈압 체크 수에 대한 배열 크기
int main(void)
{
	int cnt, sno = 20301210., total = 0;
	float avg;
	int bd[R][C] = {
		{135, 150, 148, 160, 153},
		{115, 120, 123, 121, 112},
		{132, 129, 128, 133, 130}
	};
	printf(">>고혈압 판정 기준 : 수축기 혈압 140초과\n");
	for (cnt = 0; cnt < R; cnt++)
	{
		total = bd[cnt][0] + bd[cnt][1] + bd[cnt][2] + bd[cnt][3] + bd[cnt][4];			 
																						/* total = 0; 
																						 for (i = 0; i < C; i++)
																						 total = total + bd[cnt][i]
																						 */
		avg = total / 5.0;

		printf("\n > 환자 #%d의 수축기 평균 혈압 및 판정 \n", cnt + 1);
		printf("번호 : %d\n", sno++);
		printf("혈압 : %.2f\n", avg);

		if (avg > 140)
			printf("판정 : 고혈압\n");
		else
			printf("판정 : 정상\n");
	}
	return 0;
}</code></pre>
2차원 배열을 사용하여 3명의 환자를 고혈압 판정하는 프로그램이다. 

각 환자별로 5개의 혈압의 평균을 구해 고혈압을 판정하였다.